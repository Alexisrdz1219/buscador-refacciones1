<!-- <!-- <!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Detalle de Refacci칩n</title>
</head>
<style>
  select {
  width: 100%;
  padding: 8px;
  margin-bottom: 12px;
  border-radius: 6px;
  border: 1px solid #ccc;
}
label {
  font-size: 13px;
  font-weight: bold;
  display: block;
  margin-top: 10px;
}

</style>
<body>

<h2>Editar Refacci칩n</h2>

<form id="form">

  <label>Nombre</label>
  <input type="text" id="nombreprod" required>

  <label>Categor칤a</label>
  <select id="categoriaprin" required></select>

  <label>M치quina (Modelo)</label>
  <select id="maquinamod"></select>

  <label>M치quina (Espec칤fica)</label>
  <select id="maquinaesp"></select>

  <label>Tipo</label>
  <input type="text" id="tipoprod">

  <label>Modelo</label>
  <input type="text" id="modelo">

  <label>Referencia Interna</label>
  <input type="text" id="refinterna" required>

  <label>Palabras clave</label>
  <input type="text" id="palclave">

  <label>Cantidad</label>
  <input type="number" id="cantidad" min="0" step="1" required>

  <label>Unidad</label>
  <input type="text" id="unidad">

  <label>Ubicaci칩n</label>
  <input type="text" id="ubicacion">

  <label>Observaci칩n</label>
  <textarea id="observacion"></textarea>

  <label>Imagen (URL)</label>
  <input type="text" id="imagen">

  <hr>

  <h3>M치quinas compatibles</h3>
  <div id="lista-maquinas"></div>

  <br>

  <button type="submit">游 Guardar cambios</button>

</form>

 IMPORTANT칈SIMO: defer
<script src="detalle.js" defer></script>

</body>


</html> -->
<!-- <!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Edici칩n de Refacci칩n | Sistema IEMCO</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

  <style>
    :root {
      --iemco-green: #007a33;
      --slate-700: #334155;
      --border-color: #e2e8f0;
    }

    body {
      background-color: #f1f5f9;
      font-family: 'Inter', sans-serif;
      padding: 30px 0;
      color: var(--slate-700);
    }

    .form-container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
      overflow: hidden;
      border: 1px solid var(--border-color);
    }

    .form-header {
      background: #ffffff;
      padding: 24px 32px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .form-header h2 {
      font-size: 1.25rem;
      font-weight: 700;
      margin: 0;
      color: #0f172a;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .form-body {
      padding: 32px;
    }

    .section-title {
      font-size: 0.85rem;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--iemco-green);
      margin-bottom: 20px;
      margin-top: 10px;
      border-bottom: 2px solid #f1f5f9;
      padding-bottom: 8px;
    }

    label {
      font-size: 0.8rem;
      font-weight: 600;
      color: #64748b;
      margin-bottom: 6px;
      display: block;
    }

    input, select, textarea {
      width: 100%;
      padding: 10px 12px;
      font-size: 0.9rem;
      border: 1px solid var(--border-color);
      border-radius: 5px;
      background-color: #f8fafc;
      transition: all 0.2s;
      outline: none;
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--iemco-green);
      background-color: #fff;
      box-shadow: 0 0 0 3px rgba(0, 122, 51, 0.1);
    }

    textarea {
      min-height: 80px;
      resize: vertical;
    }

    .grid-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
    }

    .full-width {
      grid-column: span 2;
    }

    hr {
      margin: 30px 0;
      opacity: 0.1;
    }

    .compat-box {
      background: #f8fafc;
      border: 1px solid var(--border-color);
      padding: 15px;
      border-radius: 6px;
      min-height: 50px;
    }

    .btn-save {
      background-color: var(--iemco-green);
      color: white;
      border: none;
      padding: 12px 30px;
      font-weight: 700;
      font-size: 0.9rem;
      border-radius: 4px;
      transition: all 0.2s;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-save:hover {
      background-color: #006329;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0, 122, 51, 0.2);
    }

    /* Estilo para pantallas peque침as */
    @media (max-width: 768px) {
      .grid-form { grid-template-columns: 1fr; }
      .full-width { grid-column: span 1; }
    }
  </style>
</head>
<body>

<div class="form-container">
  <div class="form-header">
    <h2><i class="bi bi-pencil-square me-2"></i>Editar Refacci칩n</h2>
    <span class="badge bg-light text-dark border">ID: <span id="ref-id-display">---</span></span>
  </div>

  <form id="form" class="form-body">
    
    <div class="section-title">Informaci칩n Principal</div>
    <div class="grid-form">
      <div class="full-width">
        <label>Nombre del Producto / Descripci칩n</label>
        <input type="text" id="nombreprod" placeholder="Ej. Rodamiento de bolas sellado" required>
      </div>

      <div>
        <label>Referencia Interna (Odoo/ERP)</label>
        <input type="text" id="refinterna" placeholder="REF-0000" required>
      </div>

      <div>
        <label>Categor칤a General</label>
        <select id="categoriaprin" required></select>
      </div>
    </div>

    <div class="section-title mt-4">Clasificaci칩n de Maquinaria</div>
    <div class="grid-form">
      <div>
        <label>M치quina (Modelo)</label>
        <select id="maquinamod"></select>
      </div>
      <div>
        <label>Unidad Espec칤fica</label>
        <select id="maquinaesp"></select>
      </div>
      <div>
  <label>N칰mero de M치quina</label>
  <select id="nummaquina"></select>
</div>

    </div>

    <div class="section-title mt-4">Especificaciones T칠cnicas</div>
    <div class="grid-form">
      <div>
        <label>Tipo de Producto</label>
        <input type="text" id="tipoprod" placeholder="Ej. Mec치nico">
      </div>
      <div>
        <label>Modelo T칠cnico</label>
        <input type="text" id="modelo" placeholder="Ej. SKF-2024">
      </div>
      <div>
        <label>Palabras Clave (B칰squeda)</label>
        <input type="text" id="palclave" placeholder="motor, polea, repuesto">
      </div>
      <div>
        <label>URL de Imagen</label>
        <input type="file" id="imagen" accept="image/*">

<img
  id="preview-imagen"
  style="max-width:200px; display:none; margin-top:10px"
/>
</div>
    </div>

    <div class="section-title mt-4">Inventario y Ubicaci칩n</div>
    <div class="grid-form">
      <div>
        <label>Cantidad en Stock</label>
        <input type="number" id="cantidad" min="0" step="1" required>
      </div>
      <div>
        <label>Unidad de Medida</label>
        <input type="text" id="unidad" placeholder="Pzas, Kg, Mts">
      </div>
      <div class="full-width">
        <label>Ubicaci칩n F칤sica</label>
        <input type="text" id="ubicacion" placeholder="Pasillo A - Estante 4">
      </div>
      <div class="full-width">
        <label>Observaciones Adicionales</label>
        <textarea id="observacion" placeholder="Detalles sobre el proveedor o estado del lote..."></textarea>
      </div>
    </div>

    <hr>

    <div class="section-title">M치quinas Compatibles</div>
    <div id="lista-maquinas" class="compat-box mb-4">
      <p class="text-muted small m-0 italic">No hay m치quinas adicionales vinculadas.</p>
    </div>

    <div class="d-flex justify-content-end border-top pt-4">
      <button type="button" class="btn btn-light me-2" onclick="window.history.back()">Cancelar</button>
      <button type="submit" class="btn-save">
        <i class="bi bi-floppy"></i> GUARDAR CAMBIOS
      </button>
    </div>

  </form>
</div>

<script src="detalle.js" defer></script>

</body>
</html>
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Edici칩n de Refacci칩n | Sistema IEMCO</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

<style>
  :root {
  --iemco-green: #007a33;
  --border-color: #e2e8f0;
  --bg-light: #f8fafc;
}

body {
  margin: 0;
  background: #f1f5f9;
  font-family: 'Inter', sans-serif;
  padding: 30px 15px;
}

/* CONTENEDOR */
.form-container {
  max-width: 1200px;
  margin: auto;
  background: #ffffff;
  border-radius: 14px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
}

/* HEADER */
.form-header {
  padding: 20px 30px;
  border-bottom: 1px solid var(--border-color);
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.form-header h2 {
  font-size: 1.2rem;
  font-weight: 700;
  margin: 0;
}

/* FORM GRID */
.form-body {
  padding: 30px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 25px;
}

/* SECTIONS */
.section {
  background: var(--bg-light);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  transition: 0.2s ease;
}

.section:hover {
  box-shadow: 0 10px 25px rgba(0,0,0,0.04);
}

.section-title {
  font-size: 0.8rem;
  font-weight: 700;
  text-transform: uppercase;
  color: var(--iemco-green);
  margin-bottom: 5px;
}

/* INPUTS */
label {
  font-size: 0.75rem;
  font-weight: 600;
  color: #64748b;
}

input, select, textarea {
  font-size: 0.85rem;
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  background: #ffffff;
  transition: 0.2s;
}

input:focus, select:focus, textarea:focus {
  border-color: var(--iemco-green);
  box-shadow: 0 0 0 3px rgba(0,122,51,0.1);
  outline: none;
}

textarea {
  min-height: 80px;
  resize: vertical;
}

/* IMAGE */
.image-box {
  position: relative;
  width: 100%;
  height: 220px;
  border-radius: 12px;
  overflow: hidden;
  background: #e2e8f0;
  border: 1px solid var(--border-color);
}

.image-box img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.image-overlay {
  position: absolute;
  bottom: 12px;
  right: 12px;
  background: rgba(0,0,0,0.7);
  color: white;
  padding: 6px 12px;
  font-size: 12px;
  border-radius: 8px;
  cursor: pointer;
}

/* COMPATIBLES */
.compat-container {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.compat-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

.compat-chip {
  background: #dcfce7;
  color: #065f46;
  padding: 6px 12px;
  font-size: 12px;
  border-radius: 20px;
  display: flex;
  align-items: center;
  gap: 6px;
  transition: 0.2s;
}

.compat-chip:hover {
  background: #bbf7d0;
}

.compat-chip button {
  background: none;
  border: none;
  cursor: pointer;
}

.btn-add-machine {
  background: #ffffff;
  border: 1px dashed #94a3b8;
  padding: 8px;
  font-size: 12px;
  border-radius: 8px;
  transition: 0.2s;
}

.btn-add-machine:hover {
  background: #f1f5f9;
}

/* FOOTER */
.form-footer {
  padding: 20px 30px;
  border-top: 1px solid var(--border-color);
  display: flex;
  justify-content: flex-end;
  gap: 15px;
}

.btn-save {
  background: var(--iemco-green);
  color: white;
  border: none;
  padding: 10px 25px;
  font-size: 0.85rem;
  border-radius: 8px;
  font-weight: 600;
  transition: 0.2s;
}

.btn-save:hover {
  background: #006329;
  transform: translateY(-2px);
}

</style>

</head>

<body>

<div class="form-container">

  <div class="form-header">
    <h2><i class="bi bi-pencil-square me-2"></i>Editar Refacci칩n</h2>
    <span class="badge bg-light text-dark border">
      ID: <span id="ref-id-display">---</span>
    </span>
  </div>

  <form id="form" class="form-body">

  INFORMACI칍N PRINCIPAL
    <div class="section">
      <div class="section-title">Informaci칩n Principal</div>

      <label>Nombre del Producto</label>
      <input type="text" id="nombreprod" required>

      <label>Referencia Interna</label>
      <input type="text" id="refinterna" required>

      <label>Categor칤a</label>
      <select id="categoriaprin"></select>
    </div>

     MAQUINARIA 
    <div class="section">
      <div class="section-title">Clasificaci칩n Maquinaria</div>

      <label>M치quina (Modelo)</label>
      <select id="maquinamod"></select>

      <label>Unidad Espec칤fica</label>
      <select id="maquinaesp"></select>

      <label>N칰mero M치quina</label>
      <select id="nummaquina"></select>
    </div>

    
    <div class="section">
      <div class="section-title">Especificaciones</div>

      <label>Tipo Producto</label>
      <input type="text" id="tipoprod">

      <label>Modelo T칠cnico</label>
      <input type="text" id="modelo">

      <label>Palabras Clave</label>
      <input type="text" id="palclave">

      <div class="image-box">
  <img id="preview-imagen" />
  <label for="imagen" class="image-overlay">
    <i class="bi bi-camera"></i> Cambiar
  </label>
  <input type="file" id="imagen" accept="image/*" hidden>
</div>

    </div>

    
    <div class="section">
      <div class="section-title">Inventario</div>

      <label>Cantidad</label>
      <input type="number" id="cantidad" min="0" required>

      <label>Unidad</label>
      <input type="text" id="unidad">

      <label>Ubicaci칩n</label>
      <input type="text" id="ubicacion">
    </div>


    <div class="section">
      <div class="section-title">Observaciones</div>

      <label>Notas adicionales</label>
      <textarea id="observacion"></textarea>
    </div>

 
    <div class="section">
      <div class="section-title">M치quinas Compatibles</div>
      <div class="compat-container">
  <div id="lista-maquinas" class="compat-grid"></div>
  <button type="button" class="btn-add-machine">
    <i class="bi bi-plus"></i> Agregar m치quina
  </button>
</div>

    </div>

  </form>

  <div class="form-footer">
    <button type="button" class="btn btn-light" onclick="window.history.back()">Cancelar</button>
    <button type="submit" form="form" class="btn-save">
      <i class="bi bi-floppy"></i> Guardar
    </button>
  </div>

</div>

<script src="detalle.js" defer></script>
</body>
</html> -->
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Editar Refacci칩n | Sistema IEMCO</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  background:#f4f6f9;
  font-family:'Inter',sans-serif;
}

.container-edit{
  max-width:1200px;
  margin:40px auto;
}

.card-clean{
  border:0;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,0.05);
}

.section-title{
  font-size:.75rem;
  font-weight:700;
  text-transform:uppercase;
  color:#007a33;
  margin-bottom:10px;
}

.form-label{
  font-size:.75rem;
  font-weight:600;
  margin-bottom:4px;
}

.form-control, .form-select{
  font-size:.85rem;
  border-radius:8px;
}

.image-preview{
  height:240px;
  border-radius:12px;
  overflow:hidden;
  border:1px solid #e2e8f0;
  background:#e2e8f0;
  display:flex;
  align-items:center;
  justify-content:center;
}

.image-preview img{
  width:100%;
  height:100%;
  object-fit:cover;
}

.compat-chip{
  background:#e8f5e9;
  color:#065f46;
  padding:6px 12px;
  border-radius:20px;
  font-size:12px;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.compat-chip button{
  border:0;
  background:none;
  cursor:pointer;
  font-size:12px;
}

.btn-save{
  background:#007a33;
  border:0;
  font-size:.85rem;
  padding:10px 22px;
  border-radius:8px;
}

.btn-save:hover{
  background:#006329;
}
.machine-item {
  border:1px solid #e2e8f0;
  border-radius:8px;
  padding:8px 10px;
  background:#f8fafc;
  font-size:13px;
  display:flex;
  align-items:center;
  gap:8px;
  cursor:pointer;
}

.machine-item:hover {
  background:#e2f5ea;
}

</style>
</head>

<body>

<div class="container container-edit">

<div class="row g-4">

  <!-- FORM PRINCIPAL -->
  <div class="col-lg-8">
    <div class="card card-clean p-4">

      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="fw-bold m-0">
          <i class="bi bi-pencil-square me-2"></i>Editar Refacci칩n
        </h5>
        <span class="badge bg-light text-dark border">
          ID: <span id="ref-id-display">---</span>
        </span>
      </div>

      <form id="form">

        <!-- INFORMACI칍N -->
        <div class="section-title">Informaci칩n principal</div>
        <div class="row g-3 mb-4">
          <div class="col-12">
            <label class="form-label">Nombre del Producto</label>
            <input type="text" id="nombreprod" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Referencia Interna</label>
            <input type="text" id="refinterna" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Categor칤a</label>
            <select id="categoriaprin" class="form-select"></select>
          </div>
        </div>

        <!-- MAQUINARIA -->
        <div class="section-title">Clasificaci칩n maquinaria</div>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">M치quina</label>
            <select id="maquinamod" class="form-select"></select>
          </div>
          <div class="col-md-4">
            <label class="form-label">Unidad</label>
            <select id="maquinaesp" class="form-select"></select>
          </div>
          <div class="col-md-4">
            <label class="form-label">N칰mero</label>
            <select id="nummaquina" class="form-select"></select>
          </div>
        </div>

        <!-- ESPECIFICACIONES -->
        <div class="section-title">Especificaciones</div>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Tipo</label>
            <input type="text" id="tipoprod" class="form-control">
          </div>
          <div class="col-md-4">
            <label class="form-label">Modelo</label>
            <input type="text" id="modelo" class="form-control">
          </div>
          <div class="col-md-4">
            <label class="form-label">Palabras Clave</label>
            <input type="text" id="palclave" class="form-control">
          </div>
        </div>

        <!-- INVENTARIO -->
        <div class="section-title">Inventario</div>
        <div class="row g-3 mb-4">
          <div class="col-md-4">
            <label class="form-label">Cantidad</label>
            <input type="number" id="cantidad" class="form-control" min="0">
          </div>
          <div class="col-md-4">
            <label class="form-label">Unidad</label>
            <input type="text" id="unidad" class="form-control">
          </div>
          <div class="col-md-4">
            <label class="form-label">Ubicaci칩n</label>
            <input type="text" id="ubicacion" class="form-control">
          </div>
          <div class="col-12">
            <label class="form-label">Observaci칩n</label>
            <textarea id="observacion" class="form-control"></textarea>
          </div>
        </div>

        <!-- COMPATIBLES -->
        <div class="section-title">M치quinas compatibles</div>
        <div id="lista-maquinas" class="d-flex flex-wrap gap-2 mb-3"></div>

<button type="button"
        class="btn btn-outline-secondary btn-sm mb-4"
        data-bs-toggle="modal"
        data-bs-target="#modalMaquinas">
  <i class="bi bi-plus"></i> Agregar m치quina
</button>



        <div class="text-end">
          <button type="submit" class="btn btn-save text-white">
            <i class="bi bi-floppy"></i> Guardar Cambios
          </button>
        </div>

      </form>
    </div>
  </div>

  <!-- PANEL LATERAL IMAGEN -->
  <div class="col-lg-4">
    <div class="card card-clean p-4">

      <div class="section-title">Imagen del producto</div>

      <div class="image-preview mb-3">
        <img id="preview-imagen">
      </div>

      <input type="file" id="imagen" class="form-control">

    </div>
  </div>

</div>
</div>

<!-- MODAL MAQUINAS -->
<div class="modal fade" id="modalMaquinas" tabindex="-1">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">
          <i class="bi bi-hdd-stack"></i> Seleccionar M치quinas
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <!-- Buscador -->
        <input type="text"
               id="buscarMaquina"
               class="form-control mb-3"
               placeholder="Buscar m치quina...">

        <!-- Lista -->
        <div id="lista-maquinas-modal" class="row g-2"></div>

      </div>

      <div class="modal-footer">
        <button class="btn btn-light" data-bs-dismiss="modal">Cancelar</button>
        <button class="btn btn-success" id="confirmarMaquinas">
          Confirmar selecci칩n
        </button>
      </div>

    </div>
  </div>
</div>

<script src="detalle.js" defer></script>
</body>
</html>
